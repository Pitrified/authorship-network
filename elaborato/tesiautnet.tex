%&TeX spellcheck = it_IT
\documentclass[12pt,a4paper,twoside]{report}
\usepackage{geometry}%to cus­tomize page lay­out
\usepackage[italian]{babel}%man­ages cul­tur­ally-de­ter­mined ty­po­graph­i­cal (and other) rules, and hy­phen­ation pat­terns
\usepackage[T1]{fontenc}%perchè faccia per bene i caratteri accentati nell'output
\usepackage[utf8]{inputenc}%perchè riconosca i caratteri accentati nel sorgente tex
\usepackage[hyphens]{url}%per inserire url
\usepackage{fancyhdr}%per header e foooter
\usepackage{graphicx}%per le immagini
\usepackage{wrapfig}%to wrap images with text
%\usepackage{epsfig}
\usepackage{amsthm}
\usepackage{listings}%per inserie codice sorgente
\usepackage{xcolor}%colori! :D
\usepackage{amsmath}%per formule matematiche
\usepackage{amssymb} %simboli matematici
\usepackage{booktabs}%en­hances the qual­ity of ta­bles
\usepackage{caption}%to cus­tomise the cap­tions in float­ing en­vi­ron­ments like fig­ure and ta­ble
% \usepackage{subfig}%manipulation and ref­er­ence of small or ‘sub’ fig­ures and ta­bles within a sin­gle fig­ure or ta­ble en­vi­ron­ment
\usepackage{eurosym}%The Euro­pean cur­rency sym­bol for the Euro
\usepackage{siunitx}%tante cose sulle unità di misura
\usepackage{calligra}%cal­li­graphic font
\usepackage{verbatim}
\usepackage{indentfirst}%Indent first paragraph after section header
\usepackage{microtype}%fa diventare i font più belli
\usepackage{lmodern}%fontbelli
\usepackage{braket}%parentesi
\usepackage{mathtools}%to en­hance the ap­pear­ance of doc­u­ments con­tain­ing a lot of math­e­mat­ics
\usepackage{mathrsfs}  %per fare le lettere calligrafiche
\usepackage{bm}%define \bm{} that makes the argument bold
\usepackage{empheq}%markup per le formule di amsmath
\usepackage{pstricks}%macros for gen­er­at­ing PostScript that is us­able with most TeX macro for­mats
\usepackage{emptypage}%toglie il numero di pagina alle pahine create con clearpage e cleardoublepage
\usepackage{todonotes}
\usepackage{textcomp}%per il simbolo dei gradi
\usepackage{enumitem}%per controllare gli spazi nelle liste
\usepackage{pbox}%per fare celle con più linee nelle tabelle
\usepackage{placeins}%con \FloatBarrier mette il testo dopo le cose float
\usepackage{longtable}%per tabelle che vanno da una pagina all'altra
\usepackage[final]{pdfpages}%per importare pdf
\usepackage{tkz-graph}
\usepackage{multirow}
\usepackage{float}
\usepackage{subcaption}


%fine pacchetti

%:::::::::::::::::::::IMPOSTAZIONI::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

\geometry{a4paper,top=85pt,bottom=85pt,left=127pt,right=127pt} %imposto la geometria del documento
\captionsetup{tableposition=top,figureposition=bottom,font=small}  %impostazione dei caption di immagini e tabelle
%\DeclareCaptionFormat{elaborazione}{#1#2#3\par}

%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::


\begin{document}

%::::::::::::::::::::::::::DEFINIZIONI DI COMANDI::::::::::::::::::::::::::::::::::::::::::::::::::::
\newcommand{\whitePage}{\cleardoublepage} % pagina bianca e rende la successiva una pagina destra

\newcommand{\HRule}{\rule{\linewidth}{0.6mm}} % command for the horizontal lines, change thickness here

\newcommand*{\eupgrave}{\MakeUppercase{è}} % maiuscola è accentata
%fine comandi
%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::



%::::::::::::::::::::::::::IMPOSTAZIONI GLOBALI::::::::::::::::::::::::::::::::::::::::::::::::::::::
% \setlist(nosep)
%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::


%::::::::::::::::::::::::::::::::TITLE PAGE::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
\begin{titlepage}



\center  % Center everything on the page

\textsc{\Large \\[4.5cm]Università degli Studi di Padova}\\[1.5cm]
\textsc{\Large Corso di laurea triennale in Ingegneria dell'Informazione}\\[0.5cm]

\noindent\rule{\textwidth}{0.6pt}\\[0.4cm]
{ \Large{\bfseries Analisi di una rete di autori di pubblicazioni scientifiche}}\\[0.4cm]
\noindent\rule{\textwidth}{0.6pt}\\[1cm]

\includegraphics[height=4cm]{img/unipd-bn}\\[1cm]


\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\emph{Laureando:}\\
Pietro Maria \textsc{Nobili} % Your name
\end{flushleft}
\begin{flushleft} \large
\emph{Matricola:}\\
1067941 % Your number
\end{flushleft}
\end{minipage}
~
\begin{minipage}{0.5\textwidth}
\begin{flushright} \large
\emph{Relatore:} \\
Prof.ssa Cinzia \textsc{Pizzi} \\% Supervisor's Name
\end{flushright}
\begin{flushright} \large
\emph{Correlatore:} \\
Dott. Mattia \textsc{Samory} % Supervisor's Name
\end{flushright}
\end{minipage}\\[2cm]


{\large 18 Luglio 2018}\\
{\large Anno Accademico 2017/2018}\\[3cm] % Date, change the \today to a set date if you want to be precise


\vfill % Fill the rest of the page with whitespace

\end{titlepage}
%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::


\whitePage

%::::::::::::::::::::::::::::::::::INDEX:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

\pagenumbering{Roman}
\tableofcontents

%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::



%::::::::::::::::::::::::::::::::::THE REAL CONTENT::::::::::::::::::::::::::::::::::::::::::::::::::

\whitePage



\newpage
\pagenumbering{arabic}
\setcounter{page}{1}
\section*{Abstract} \label{abstract} % the asterisk is to remove the numbering
\addcontentsline{toc}{chapter}{Abstract} % we put the asterisk so we add it manually to the toc
% qua ci sarà un glorioso abstract

L'interazione tra ricercatori è evidente nelle loro collaborazioni per la pubblicazione di articoli
scientifici. La rete di co-autorialità tra ricercatori è pertanto un modello ricco di informazioni
sulle dinamiche della ricerca scientifica.

In questa tesi si è sviluppato un sistema per ricostruire la rete di collaborazioni tra autori di
pubblicazioni scientifiche afferenti al Dipartimento di Ingegneria dell’Informazione dell’università
di Padova a partire dai dati di \textit{Microsoft Academic Graph} gestendo problemi dovuti ad
omonimie, presenza di più identificatori per un singolo autore, presenza di record con informazioni
mancanti o errate.

Per il partizionamento in comunità, definite dall’appartenenza di un autore ad un dato Settore
Scientifico Disciplinare, sono stati utilizzati tre metodi per classificare gli autori in comunità
corrispondenti ai gruppi di ricerca: Girvan-Newman, Clauset-Newman-Moore, e Stocastica Block Model.

Le problematiche evidenziate nella fase di estrazione non consentono una mappatura perfetta con le
aree di ricerca attive in dipartimento, ma la struttura macroscopica che si ricava dai grafi
fornisce quantomeno un’indicazione di tale composizione, in particolare quando si utilizza
l’algoritmo di Girvan e Newman.

\whitePage
% \clearpage
\section*{Introduzione} \label{introduzione}
\addcontentsline{toc}{chapter}{Introduzione} % we put the asterisk so we add it manually to the toc

L'analisi delle reti ha ricevuto molto interesse negli ultimi 20 anni, grazie alle sue numerose
applicazioni in ambito scientifico e industriale in campi che spaziano dall'ecologia all'economia,
dallo studio delle reti sociali alle neuroscienze, e più recentemente per le sue applicazioni agli
studi di machine learning.

Le reti che descrivono fenomeni e situazioni naturali sono spesso caratterizzate da
un'organizzazione interna. Studiando la struttura della rete si possono mettere
in luce le relazioni e i meccanismi che la governano, ricavando utili indicazioni sul comportamento
globale del sistema complesso studiato.

La struttura interna di una rete, come nel caso della rete sociale oggetto di questo studio, si può
riassumere aggregando i nodi in comunità. L'individuazione accurata delle comunità è pertanto
fondamentale per la descrizione della rete e per questo motivo è un importante oggetto di studio.

La ricostruzione accurate della rete delle pubblicazioni scientifiche permette una miglior
comprensione dell'attività accademica. Le applicazioni spaziano dal valutare lo scambio di
conoscenza tra i diversi settori di studio, alla misura dell'impatto a lungo termine delle ricerche,
al tracciare la mobilità dei ricercatori \cite{Fortunatoeaao0185}. Ciò è cruciale per permettere agli enti
istituzionali ed ai responsabili politici di destinare risorse per promuovere l'eccellenza
accademica.

In questo contesto è stato sviluppato un sistema per l'estrazione di informazioni da record di
pubblicazioni per creare una rete di associazioni tra co-autori afferenti al Dipartimento di
Ingegneria dell'Informazione dell'Università di Padova e sono state ricostruite le corrispondenti
comunità.

L'elaborato segue la seguente struttura.
Nella prima sezione viene descritto il problema del community detection. Vengono descritti tre dei
metodi esistenti per partizionare un grafo. I primo due metodi sono deterministici: l'algoritmo
proposto da Girvan e Newman e l'algoritmo sviluppato da Clauset, Newman e Moore. Il terzo è un
metodo probabilistico, lo \textit{Stochastic Block Model}. Viene descritta la \textit{V-measure},
una misura esterna utilizzata per valutare la validità dei cluster generati.

Nella seconda sezione viene descritta la struttura del \textit{Microsoft Academic Graph} da cui sono
stati estratti i dati, il metodo che si è usato per estrarli e i problemi riscontrati. Vengono
proposti e implementati dei metodi alternativi per risolverli.

Nella terza sezione viene descritto il metodo con cui sono generate le comunità e vengono presentati
i risultati ottenuti.

Nell'ultima sezione si traggono le conclusioni sul lavoro svolto.

Il codice scritto per la manipolazione dei dati è disponibile alla pagina
\url{github.com/Pitrified/authorship-network}.


\whitePage
\chapter{Community detection} \label{cap:comdet}

\section{Definizione del problema} \label{sec:storia}

Le relazioni tra elementi di un sistema complesso possono essere rappresentate con un grafo. Gli
elementi del sistema sono rappresentati dai nodi e le loro interazioni dagli archi. A livello
globale, la topologia del grafo fornisce informazioni sul sistema. A livello intermedio fra il grafo
nel suo insieme e le connessioni fra singoli nodi, molti grafi dimostrano un certo livello di
organizzazione.

Una comunità viene definita come un insieme di nodi tali per cui i nodi di una stessa comunità sono
fortemente connessi tra loro, mentre le connessioni tra nodi in diverse comunità sono meno
probabili.

Questa definizione di comunità è stata preferita perché rispecchia la struttura della rete dei
co-autori di pubblicazioni scientifiche, dove un alto numero di collaborazioni comporta in generale
l'appartenenza allo stesso gruppo di ricerca o, a livello più macroscopico, allo stesso Settore
Scientifico Disciplinare.

% Le comunità sono gruppi di nodi reputati simili in base a qualche metrica di somiglianza.

Nella sezione seguente, vengono presentati tre metodi per estrapolare la struttura in comunità di un
grafo.

\section{Metodi usati} \label{sec:metodi}

Per partizionare il set di nodi di un grafo in cluster sono stati utilizzati tre algoritmi:
l'algoritmo di Girvan-Newman~\cite{Girvan7821} e l'algoritmo di
Clauset-Newman-Moore~\cite{2004PhRvE..70f6111C}, implementati nella libreria Stanford Network
Analysis Platform (SNAP)~\cite{snapnets}, e l'algoritmo \textit{Stochastic Block
Model}~\cite{2014PhRvE..89a2804P}, implementato in
\textit{graph-tool}~\cite{peixoto_graph-tool_2014}.

Questi metodi sono stati scelti perché sono stati sviluppati considerando una definizione di
comunità aderente a quella proposta nella sezione precedente, che è considerata descrivere
adeguatamente la struttura interna di una rete di co-autori.

\subsection{Girvan–Newman} \label{subsec:gn}
Girvan e Newman introducono la \textit{Edge Betweenness} come misura di quanto un arco agisca da
ponte fra due comunità in un grafo. Ispirandosi alla \textit{Vertex Betweenness}, che valuta il
numero di cammini minimi fra coppie di nodi che passano per il nodo in esame, definiscono la
centralità di un arco come numero di cammini minimi tra i nodi del grafo che passano per tale arco.

Per suddividere il grafo in comunità, vengono progressivamente eliminati gli archi con centralità
massima, dopo aver ricalcolato i cammini minimi modificati dall'eliminazione degli archi.

Il risultato dell'algoritmo è un dendrogramma, da cui si estrapola la struttura delle comunità del
grafo.

Ha complessità $O(E^2N)$ nel caso peggiore, dove $E$ è il numero di edge e $N$ è il numero di nodi,
che diventa $O(N^3)$ nel caso di un grafo sparso in cui $N\sim E$.

\subsection{Clauset-Newman-Moore} \label{subsec:cnm}

Girvan e Newman introducono la \textit{modularity} \cite{2004phrve..69b6113n} come valutazione della
qualità della suddivisione in cluster dei nodi di un grafo. La \textit{modularity} viene definita
come la frazione di edge in un grafo che connettono nodi nella stessa comunità meno la frazione di
edge che connetterebbero quei nodi se gli archi del grafo fossero casuali ma la struttura in
comunità fosse la stessa. Se la frazione di archi all'interno di una comunità non è maggiore di
quella prevista in un grafo casuale, la \textit{modularity} è nulla, se il grafo ha una struttura in
comunità ben definita, il valore si avvicina a 1.

L'algoritmo sviluppato da Clauset, Newman e Moore utilizza un approccio \textit{greedy} per trovare
una suddivisione dei nodi che massimizzi la \textit{modularity}. Partendo da una una suddivisione
che consiste in un nodo per comunità, ad ogni iterazione si uniscono le due comunità la cui
aggregazione comporta il massimo incremento della \textit{modularity}.

L'algoritmo ha complessità $O(ED\log N)$ dove $E$ è il numero di edge, $N$ è il numero di nodi e $D$
è la profondità del dendrogramma che descrive la struttura delle comunità del grafo. La complessità
diventa $O(N\log^{2}(N))$ nel caso di un grafo sparso in cui $N\sim E$, e con struttura delle
comunità gerarchica in cui $D\sim\log N$.

\subsection{Stochastic Block Model} \label{subsec:bn}

A differenza dei due metodi descritti nelle sezioni precedenti, l'algoritmo del \textit{Stochastic
Block Model} segue un approccio stocastico al problema del \textit{community detection}. Inoltre
questo algoritmo non favorisce necessariamente la struttura delle comunità formate da nodi
strettamente connessi tra loro e meno connessi con membri delle altre comunità.

Il modello stocastico a blocchi generalizza la struttura di comunità di un grafo raggruppando i nodi
in blocchi e definendo una matrice delle probabilità di esistenza degli archi tra nodi di ciascun
blocco.

Il problema del partizionamento viene quindi convertito in un processo statistico di inferenza dei
parametri del modello basandosi sul grafo osservato.

Anche questo algoritmo è implementato con una strategia \textit{greedy} che risulta in una
complessità $O(N ln^2(N))$.
\\
\\
Si evidenzia il fatto che il primo algoritmo descritto ha complessità $O(N^3)$, che lo rende
inadeguato nel caso di reti numerose. I successivi algoritmi scalano meglio con la dimensione del
grafo, avendo complessità $O(N ln^2(N))$.

\section{V-measure} \label{sec:vmeasure}

La \textit{V-measure}, una misura esterna della validità
dei cluster basata sull'entropia, presentata da Rosenberg e Hirschberg~\cite{vmeasure}, è stata
utilizzata per valutare la qualità delle partizioni dei grafi ricavati con i vari metodi descritti
nelle sezioni successive.

In questo elaborato, viene considerata buona una partizione degli autori che rispecchi la loro
suddivisione nei Settori Scientifici Disciplinari.

%Per valutare la qualità delle partizioni dei grafi ricavati con i vari metodi descritti nelle
%sezioni precedenti, è stata utilizzata la \textit{V-measure}, come presentata da Rosenberg e
%Hirschberg \cite{vmeasure}, una misura esterna della validità dei cluster basata sull'entropia.

Come terminologia, si parlerà di due distinte partizioni del set di nodi da analizzare: un set di
classi $C$, considerate la suddivisione reale dei nodi, e un set di cluster $K$ per indicare la
partizione generata.

Rosenberg e Hirschberg hanno sviluppato due concetti, l'omogeneità e la completezza, la cui media
armonica è la \textit{V-measure}.

Una partizione di cluster è considerata perfettamente omogenea quando i cluster contengono
\textit{solo} membri di una singola classe, come esemplificato nella Tabella
\ref{tab:omogeneononcompleto}.

In maniera simmetrica una partizione è perfettamente completa quando un singolo cluster contiene
\textit{tutti} i membri di una classe, come esemplificato nella Tabella
\ref{tab:completononomogeneo}.

Per valutare l'omogeneità di una partizione si considera l'entropia condizionata della distribuzione
di classi dato il clustering generato $H(C|K)$. Nel caso di perfetta omogeneità questo valore è
nullo in quanto il cluster contiene una singola classe, mentre è massimo e vale $H(C)$ quando la
distribuzione delle classi all'interno del cluster è identica alla distribuzione delle classi
nell'intero set, per cui il clustering non fornisce alcuna informazione aggiuntiva.
\\
Considerando che
il valore di entropia è massimo quando la partizione è pessima, si definisce l'omogeneità come

\begin{equation} \label{eq:h}
    h = \begin{cases} 1 & \mbox{se } H(C) = 0 \\ 1-\frac{H(C|K)}{H(C)} & \mbox{altrimenti} \end{cases}
\end{equation}

Analogamente si definisce la completezza come

\begin{equation} \label{eq:c}
    c = \begin{cases} 1 & \mbox{se } H(K) = 0 \\ 1-\frac{H(K|C)}{H(K)} & \mbox{altrimenti} \end{cases}
\end{equation}

La \textit{V-measure} è definita come la media armonica dei due valori di omogeneità e completezza

\begin{equation} \label{eq:v}
    % V_\beta = (1+\beta)\frac{h \cdot c}{\beta \cdot h + c}
    V = \frac{h \cdot c}{h + c}
\end{equation}

% Se $\beta<1$ si dà maggior peso all'omogeneità, se $\beta>1$ si dà maggior peso alla completezza. In
% questo lavoro è stato usato $\beta=1$

I seguenti diagrammi illustrano graficamente le tre situazioni limite. Le classi sono \{A, B, C,
D\}, i colori rappresentano i cluster.

\begin{center}
\captionof{table}{Clustering perfetto}
\begin{minipage}{0.30\textwidth}
    \begin{tabular}{|l|r|}
    \hline $h$&1\\
    \hline $c$&1\\
    \hline $V$&1\\
    \hline
    \end{tabular}
\end{minipage}
% \begin{minipage}{0.075\textwidth}
% $\rightarrow$
% \end{minipage}
\begin{minipage}{0.50\textwidth}
    \begin{tikzpicture}
    %\SetGraphUnit{3}
    \GraphInit[vstyle=Normal]
    %\draw[help lines] (0,0) grid (5,3);
    \SetVertexNormal[FillColor=blue!50]
    \Vertex[L=A]{1} % par défaut x = 0 et y = 0
    \Vertex[x=0 , y=3, L=A]{2}
    \Vertex[x=0.5 , y=1.5, L=A]{3}
    \Vertex[x=1.0 , y=0.5, L=A]{4}
    \Vertex[x=1.5 , y=2.5, L=A]{5}
    \SetVertexNormal[FillColor=orange!50]
    \Vertex[x=2.0 , y=1.5, L=B]{6}
    \Vertex[x=2.5 , y=0.0, L=B]{7}
    \Vertex[x=2.5 , y=3.0, L=B]{8}
    \SetVertexNormal[FillColor=red!50]
    \Vertex[x=3.0 , y=1.0, L=C]{9}
    \Vertex[x=3.5 , y=2.0, L=C]{10}
    \SetVertexNormal[FillColor=green!50]
    \Vertex[x=4.0 , y=1.0, L=D]{11}
    \Vertex[x=4.0 , y=3.0, L=D]{12}
    \Vertex[x=5.0 , y=0.5, L=D]{13}
    \Vertex[x=5.0 , y=2.0, L=D]{14}
    \end{tikzpicture}
\end{minipage}
%\medskip
\end{center}
%    \setlength{\abovecaptionskip}{1cm}
\begin{center}
\begin{tabular}{|l|c|c|c|c|c|c|c|c|c|c|c|c|c|c|}
    %\hline ID     &1&2&3&4&5&6&7&8&9&10&11&12&13&14\\
    \hline Classe &A&A&A&A&A&B&B&B&C& C& D& D& D& D\\
    \hline Cluster&1&1&1&1&1&2&2&2&3& 3& 4& 4& 4& 4\\
\hline
\end{tabular}
\end{center}

% questo fa male al cuore % GRAFICA
\begin{minipage}{0.30\textwidth}
\end{minipage}

\begin{center}
\captionof{table}{Clustering omogeneo ma non completo}
    \label{tab:omogeneononcompleto}
\begin{minipage}{0.30\textwidth}
    \begin{tabular}{|l|r|}
    \hline $h$&1\\
    \hline $c$&0.727\\
    \hline $V$&0.842\\
    \hline
    \end{tabular}
\end{minipage}
\begin{minipage}{0.50\textwidth}
    \begin{tikzpicture}
    \GraphInit[vstyle=Normal]
    %\draw[help lines] (0,0) grid (5,3);
    \SetVertexNormal[FillColor=blue!50]
    \Vertex[L=A]{1} % par défaut x = 0 et y = 0
    \Vertex[x=0 , y=3, L=A]{2}
    \Vertex[x=0.5 , y=1.5, L=A]{3}
    \SetVertexNormal[FillColor=orange!50]
    \Vertex[x=1.0 , y=0.5, L=A]{4}
    \Vertex[x=1.5 , y=2.5, L=A]{5}
    \SetVertexNormal[FillColor=red!50]
    \Vertex[x=2.0 , y=1.5, L=B]{6}
    \Vertex[x=2.5 , y=0.0, L=B]{7}
    \Vertex[x=2.5 , y=3.0, L=B]{8}
    \SetVertexNormal[FillColor=green!50]
    \Vertex[x=3.0 , y=1.0, L=C]{9}
    \SetVertexNormal[FillColor=yellow!50]
    \Vertex[x=3.5 , y=2.0, L=C]{10}
    \SetVertexNormal[FillColor=purple!80]
    \Vertex[x=4.0 , y=1.0, L=D]{11}
    \SetVertexNormal[FillColor=gray!50]
    \Vertex[x=4.0 , y=3.0, L=D]{12}
    \Vertex[x=5.0 , y=0.5, L=D]{13}
    \Vertex[x=5.0 , y=2.0, L=D]{14}
    \end{tikzpicture}
\end{minipage}
\end{center}
\begin{center}
\begin{tabular}{|l|c|c|c|c|c|c|c|c|c|c|c|c|c|c|}
    %\hline ID     &1&2&3&4&5&6&7&8&9&10&11&12&13&14\\
    \hline Classe &A&A&A&A&A&B&B&B&C& C& D& D& D& D\\
    \hline Cluster&1&1&1&2&2&3&3&3&4& 5& 6& 7& 7& 7\\
\hline
\end{tabular}
\end{center}

\clearpage % GRAFICA

\begin{center}
\captionof{table}{Clustering completo ma non omogeneo}
    \label{tab:completononomogeneo}
\begin{minipage}{0.30\textwidth}
    \begin{tabular}{|l|r|}
    \hline $h$&0.512\\
    \hline $c$&1\\
    \hline $V$&0.677\\
    \hline
    \end{tabular}
\end{minipage}
\begin{minipage}{0.50\textwidth}
    \begin{tikzpicture}
    \GraphInit[vstyle=Normal]
    %\draw[help lines] (0,0) grid (5,3);
    \SetVertexNormal[FillColor=blue!50]
    \Vertex[L=A]{1} % par défaut x = 0 et y = 0
    \Vertex[x=0 , y=3, L=A]{2}
    \Vertex[x=0.5 , y=1.5, L=A]{3}
    \Vertex[x=1.0 , y=0.5, L=A]{4}
    \Vertex[x=1.5 , y=2.5, L=A]{5}
    \Vertex[x=2.0 , y=1.5, L=B]{6}
    \Vertex[x=2.5 , y=0.0, L=B]{7}
    \Vertex[x=2.5 , y=3.0, L=B]{8}
    \SetVertexNormal[FillColor=orange!50]
    \SetVertexNormal[FillColor=red!50]
    \Vertex[x=3.0 , y=1.0, L=C]{9}
    \Vertex[x=3.5 , y=2.0, L=C]{10}
    \Vertex[x=4.0 , y=1.0, L=D]{11}
    \Vertex[x=4.0 , y=3.0, L=D]{12}
    \Vertex[x=5.0 , y=0.5, L=D]{13}
    \Vertex[x=5.0 , y=2.0, L=D]{14}
    \SetVertexNormal[FillColor=green!50]
    \end{tikzpicture}
\end{minipage}
\end{center}
\begin{center}
\begin{tabular}{|l|c|c|c|c|c|c|c|c|c|c|c|c|c|c|}
    %\hline ID     &1&2&3&4&5&6&7&8&9&10&11&12&13&14\\
    \hline Classe &A&A&A&A&A&B&B&B&C& C& D& D& D& D\\
    \hline Cluster&1&1&1&1&1&1&1&1&2& 2& 2& 2& 2& 2\\
\hline
\end{tabular}
\end{center}

%Preview di due grafici per avere esempi da puntare. Forse punti alla sezione dopo.

L'algoritmo utilizzato per calcolare la \textit{V-measure} è\\ {\fontfamily{qcr}\selectfont
% \footnotesize
homogeneity\_completeness\_v\_measure}, incluso nella libreria \textit{scikit-learn}~
\cite{scikit-learn}.

\whitePage
\chapter{Estrazione dati} \label{cap:estrazione}

In questo capitolo viene descritta la struttura del database \textit{Microsoft}. Viene descritto il
metodo di estrazione dei dati, il processo di eliminazione dei dati spuri e di aggregazione dei
nodi. Infine vengono riassunti i problemi intrinseci rilevati nel database.

\section{Struttura database Microsoft} \label{sec:msr}
% https://academic.microsoft.com/#/faq https://dl.acm.org/citation.cfm?doid=2740908.2742839 citato
% da qua
Il database da cui sono stati estratti i dati è il Microsoft Academic Graph~
\cite{Sinha:2015:OMA:2740908.2742839}, che contiene informazioni relative a pubblicazioni
scientifiche, autori, istituzioni accademiche, riviste, conferenze e settori di studio. I record
presenti nei file forniscono le relazioni tra queste entità.

Il database è composto da undici file di testo che contengono un record per riga, con i campi
separati da tabulazione.

Per il lavoro oggetto di questa tesi sono stati utilizzati in particolare quattro file del database,
la cui struttura è illustrata nella tabella \ref{table:msrstruttura1}.

% L'ultimo aggiornamento del database disposizione risale all'agosto 2015.
La versione del database \textit{Microsoft} utilizzato è quella dell'agosto 2015.

\begin{center}
%\begin{table}
%\begin{tabular}{| l | l |}
\captionof{table}{Struttura del database}
\label{table:msrstruttura1}
\begin{longtable}{| l | l |}
\hline
Nome file&
Campi\\
(Numero record)&\\
\hline
Authors.txt&Author ID\\
(123.017.489)&Author Name\\
\hline
PaperAuthorAffiliations.txt&Paper ID\\
(325.498.063)&Author ID\\
&Affiliation ID\\
&Original affiliation name\\
&Normalized affiliation name\\
&Author sequence number\\
\hline
Affiliations.txt&Affiliation ID\\
(2.719.436)&Affiliation name\\
\hline
Papers.txt&Paper ID\\
(122.695.085)&Original paper title\\
&Normalized paper title\\
&Paper publish year\\
&Paper publish date\\
&Paper Document Object Identifier (DOI)\\
&Original venue name\\
&Normalized venue name\\
&Journal ID mapped to venue name\\
&Conference series ID mapped to venue name\\
&Paper rank\\
\hline
%\end{tabular}
%\caption{Struttura del database}
%\label{table:msrstruttura}
\end{longtable}
%\end{table}
\end{center}
\FloatBarrier

\section{Processo di estrazione} \label{sec:processo}

Dal sito di dipartimento (\url{http://www.dei.unipd.it/lista-docenti}) sono stati estratti i nomi
degli attuali afferenti DEI, includendo Docenti, Assegnisti di ricerca, Collaboratori di ricerca e
Dottorandi. Questa lista è necessaria per avere un set di nomi degli autori afferenti al DEI da cui
partire per estrarre i dati.

Si è reso necessario intervenire manualmente sulla lista per risolvere alcune criticità:
\begin{itemize}
\item[--]
    I caratteri Unicode non sono ben gestiti nel database, a volte si trova la lettera non
        accentata, altre volte è presente un apostrofo invece dell'accento, in altri casi il
        carattere è assente del tutto. I nomi che contengono tali caratteri sono stati inseriti in
        tutte le varianti identificate.
\item[--]
    Afferenti con nomi composti uniti da trattino o con molteplici secondi nomi sono stati inseriti
        in multiple varianti
\end{itemize}

La lista ottenuta comprende 379 autori.
% TODO non fare il pezzente e scrivi quanti hanno l'etichetta
Dove presente, è stato estratto il Settore Scientifico Disciplinare dell'afferente, che ha fornito
la partizione in classi utilizzata come rifermento alla fine dell'elaborazione dei dati. Il Settore
Scientifico Disciplinare è una categoria definita dal MIUR che codifica l'afferenza disciplinare dei
docenti universitari italiani.
Nel caso di assegnisti e dottorandi, è stata assegnata come classe \textit{"N/A"}, che include 204
nomi.

I nomi propri degli autori sono stati abbreviati in tutte le possibili combinazioni per rispecchiare
la struttura del database Microsoft. Se nel momento dell'abbreviazione si generano conflitti fra
possibili etichette del nome, viene associata l'etichetta \textit{"Multipli"}. Il file generato ha
la struttura indicata nella tabella \ref{tab:nomietichette}.

\begin{center}
\captionof{table}{PersoneComunitaDEI.txt}
\label{tab:nomietichette}
\begin{minipage}{0.90\textwidth}
\begin{verbatim}
a a pietracaprina            INF/01 - INFORMATICA
a alberto pietracaprina	     INF/01 - INFORMATICA
andrea a pietracaprina	      INF/01 - INFORMATICA
andrea alberto pietracaprina	INF/01 - INFORMATICA
...
mattia zorzi                 INF/04 - AUTOMATICA
michele zorzi                INF/03 - TELECOMUNICAZIONI
m zorzi                      Multipli
...
\end{verbatim}
\end{minipage}
\end{center}

Utilizzando questa lista di nomi ed abbreviazioni, sono stati estratti dal file \textit{Authors.txt}
le coppie (ID autore, nome autore), che risultano essere 8.135, con una media di 21,5 ID per nome.

Con il set di ID autori ottenuto, sono stati estratti dal file \textit{PaperAuthorAffiliations.txt}
i record relativi ai paper, nella forma (ID paper, ID autore, ID affiliation), per un totale di
62.291 paper.

Dalla lista così ottenuta, non necessariamente ordinata, sono stati creati gli edge fra ID autore,
considerando una collaborazione tra autori per ciascun paper pubblicato assieme. Gli edge sono poi
stati aggregati creando una edge list pesata, in cui i pesi corrispondono al numero totale di
collaborazioni tra due autori. Questi due passaggi sono esemplificati nella tabella
\ref{tab:creazioneedge}.

\begin{center}

% TODO mettere caption degli esempietti senza tabella
%\captionof{elaborazione}{Creazione edge}
%Creazione edge
\captionof{table}{Creazione edge}
\label{tab:creazioneedge}
\begin{minipage}{0.40\textwidth}
\begin{verbatim}
IDpaper1  IDautore1
IDpaper1  IDautore2
IDpaper1  IDautore3
IDpaper2  IDautore2
IDpaper2  IDautore3
\end{verbatim}
\end{minipage}
\begin{minipage}{0.075\textwidth}
$\rightarrow$
\end{minipage}
\begin{minipage}{0.40\textwidth}
\begin{verbatim}
IDautore1  IDautore2  1
IDautore1  IDautore3  1
IDautore2  IDautore3  2
\end{verbatim}
\end{minipage}
\end{center}
A partire da questi edge è stato generato il primo grafo che rappresenta la rete degli autori.
% TODO riscrivila

Questo metodo di creazione del grafo, che considera le collaborazioni tra autori, riduce a 778 il
set di ID autori, eliminando tutti i nodi sconnessi, che si assume siano riferiti ad omonimi di un
afferente DEI. Nel grafo compaiono 287 nomi univoci, connessi da 1.830 edge con 7.803 di peso
totale.

I grafi in questo capitolo sono stati divisi in comunità utilizzando l'algoritmo Modularity di
Gephi \cite{2008JSMTE..10..008B}.


\centerline{
\begin{minipage}{1.45\textwidth}
\setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
\fbox{\includegraphics[page=1,scale=0.60]{img/GrafoCollaborazioni.pdf}}
\captionof{figure}{Grafo delle collaborazioni}
\label{img:grafotutti}
\end{minipage}
}

%\begin{minipage}{1.4\textwidth}
%%[width=\textwidth]
%\includepdf{img/GrafoCollaborazioni.pdf}
%\captionof{figure}{Grafo collaborazioni}
%\label{img:grafoprimo}
%\end{minipage}
%\clearpage

\subsubsection{Analisi della prima estrazione}\label{ssc:analisiuno}

I due problemi principali di questo processo emergono al momento dell'estrazione degli ID autore dal
file \textit{Authors.txt}:

\begin{itemize}[noitemsep, topsep=0pt]
\item
Vengono selezionati anche gli ID riferiti ad autori omonimi, non affiliati al DEI.
\item
Ad un singolo autore DEI sono associati più ID autore.
\end{itemize}

Nelle sezioni successive si presenteranno le soluzioni che sono state implementate per cercare
di risolvere questi problemi.

%::::PADOVANI::::
\subsection{Filtro degli autori per affiliation} \label{ssc:padovani}
Il primo problema è già in parte risolto dal metodo di creazione del grafo, che considera solo gli
ID autori che hanno almeno una collaborazione con un altro ID nel set. In questo modo più del 90\%
degli ID viene filtrato.

Tuttavia, nel caso di collaborazioni tra omonimi di autori DEI, quantomeno in forma abbreviata,
autori non del DEI non vengono filtrati.

% Ispezionando manualmente il grafo, si trova un esempio di questo caso nella collaborazione tra
% \textit{"c pizzi"} e \textit{"f guerra"}, di cui non si trova riscontro in letteratura. Analizzando
% gli ID, le loro collaborazioni e i paper a cui hanno collaborato, si è dedotto che sia l'ID relativo
% a Carmine Pizzi, medico a Bologna.
%
% si rileva la presenza di due nodi riferiti a "c pizzi", che però
% sono connessi ad autori con cui la professoressa Pizzi non ha mai collaborato. Analizzando
% gli ID,
% le loro collaborazioni e i paper a cui hanno collaborato, si è dedotto che sono ID relativi
% probabilmente a Carmine Pizzi e Claudia Pizzi, medici rispettivamente a Bologna e Milano.
% Questi ID sono stati inclusi perché risultano collaborazioni con altri autori il cui nome è presente
% nella lista di partenza estratta dal sito di dipartimento.

Per ovviare a questo problema, è stato sviluppato un secondo metodo di estrazione dei dati che
esclude gli ID autore se non hanno mai pubblicato un paper a Padova, considerando le informazioni
sulle affiliation dei paper, come viene illustrato di seguito.

\begin{itemize}[noitemsep, topsep=0pt]
\item[--]
Dal file \textit{Affiliations.txt} si estrae la lista delle affiliation in cui risulta nel nome un match all'espressione regolare ``$pad(ov|u)a$''.
% TODO usare un set di affiliation solo di dipartimento (circa 300) è troppo poco
\item[--]
% TODO richiamare la lista di terne
Dalla lista di terne (ID paper, ID autore, ID affiliation) si mantengono solo quelle in cui l'ID affiliation compare nel set di affiliation padovane appena estratte.
\item[--]
Dalle terne selezionate, si estrae un set di ID autori che hanno pubblicato almeno un paper con affiliation padovana.
\item[--] % TODO meglio - più punti
Si estraggono i paper scritti da questi ID autore e si procede alla generazione degli edge pesati.
\end{itemize}

Applicando questo metodo, gli ID autore si riducono a 306, relativi a 201 nomi univoci. Il grafo
generato include 850 edge con un peso totale di 5.195.

% Gli ID autore riferiti a "c pizzi", non avendo neanche un paper con affiliation padovana, vengono
% correttamente filtrati.

\centerline{
\begin{minipage}{1.10\textwidth}
\setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
\fbox{\includegraphics[page=1,scale=0.45]{img/GrafoPadovani.pdf}}
\captionof{figure}{Grafo delle collaborazioni tra autori con nominativi associati alla lista di
    afferenti al DEI che hanno pubblicato almeno un lavoro con affiliation presente nella lista di
    affiliation padovane estratte}
\label{img:grafopad}
\end{minipage}
}

%::::::::::::::::::::::::::::::::::COLLASSANODI::::::::::::::::::::::::::::::::::::::::::::::::::::::
\clearpage % GRAFICA
\subsection{Unione di ID autore in singoli nodi} \label{ssc:collassa}
% TODO esempio di qualcuno
Per risolvere il secondo problema insorto nell'estrazione dei dati, per cui ad una singola persona
fisica, effettivamente affiliata al DEI, possono essere associati più ID autore, sono state seguite
tre vie alternative fra loro.

Il primo metodo tiene conto solo dei nomi associati ai nodi del grafo, il secondo e il terzo metodo
sfruttano la struttura del grafo per stabilire se due nodi siano riferiti alla stessa persona.

% I grafi precedentemente generati vengono rielaborati

\subsubsection{Unione di nodi in base al nome} \label{ssc:nomi} % questo label è inutile

I grafi precedentemente generati vengono rielaborati, ipotizzando che nodi con nomi uguali o le cui
abbreviazioni sono uguali possano essere considerati un unico nodo.

In questo modo ``\textit{a alberto pietracaprina}'' viene associato a ``\textit{a a
pietracaprina}'' ma anche a ``\textit{andrea a pietracaprina}'' come pure a ``\textit{andrea alberto
pietracaprina}''.

I nodi del grafo in figura \ref{img:grafotutti} si riducono da 778 a 199. Gli edge scendono da 1830
a 661, mantenendo lo stesso peso totale di 7.803 (Figura \ref{img:grafotuttinome}).

\centerline{
\begin{minipage}{1.00\textwidth}
\setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
\fbox{\includegraphics[page=1,scale=0.37]{img/GrafoTuttiNomi.pdf}}
\captionof{figure}{Grafo delle collaborazioni - nodi unificati per nome}
\label{img:grafotuttinome}
\end{minipage}
}

% \clearpage % grafica da fare alla fine
\clearpage % GRAFICA
I nodi del grafo in figura \ref{img:grafopad} si riducono da 306 a 158. Gli edge scendono da 850 a
463, mantenendo il peso totale di 5.195 (Figura \ref{img:grafopadnome}).

\centerline{
\begin{minipage}{0.90\textwidth}
\setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
\fbox{\includegraphics[page=1,scale=0.37]{img/GrafoPadovaniNomi.pdf}}
\captionof{figure}{Grafo autori con affiliation padovana - nodi unificati per nome}
\label{img:grafopadnome}
\end{minipage}
}

\subsubsection{Unione di nodi in base alla distanza} \label{ssc:distanza}

Il metodo che considera i nomi precedentemente descritto introduce una criticità nel caso un cui due
autori abbiano un nome che viene abbreviato nello stesso modo.
Questo fa sì che più persone vengano assimilate erroneamente in un unico nodo.

Nei dati che sono stati trattati questo succede solo nel caso di ``\textit{Mattia Zorzi}'' e
``\textit{Michele Zorzi}'', che si abbreviano entrambi in ``\textit{m zorzi}''.

In dataset con bassa variabilità dei cognomi, o in generale in dataset più ampi, il fenomeno dei
falsi positivi incide in maniera più marcata sulla veridicità del grafo ottenuto con questo metodo.

Nel secondo metodo sviluppato per unificare i nodi, viene richiesta un'ulteriore condizione per
considerare due nodi come relativi alla stessa persona fisica. Oltre a verificare la corrispondenza
delle abbreviazioni dei nomi si calcola anche la distanza minima tra i due nodi nel grafo. Se questa
distanza è minore di una certa soglia, i due nodi vengono unificati. Questo processo può essere
iterato più volte, per sfruttare le informazioni ottenute nei passi precedenti.

% \clearpage % grafica da fare alla fine
\clearpage % GRAFICA
\begin{center}
\captionof*{table}{Prima iterazione unione nodi con distanza minima minore di 2}
\begin{minipage}{0.40\textwidth}
\begin{tikzpicture}
\GraphInit[vstyle=Normal]
%\draw[help lines] (0,0) grid (4,3);
\Vertex[L=D]{d1} % par défaut x = 0 et y = 0
\Vertex[x=1 , y=1.5, L=A]{a2}
\Vertex[x=0 , y=3, L=C]{c1}
\Vertex[x=2 , y=0, L=A]{a1}
\Vertex[x=2 , y=3, L=B]{b1}
\Vertex[x=3 , y=1.5, L=A]{a3}
\Vertex[x=4 , y=3, L=C]{c2}
\Edge[label=3](c1)(a2)
\Edge[label=8](a3)(c2)
\SetUpEdge[style={ultra thick},color=red]
\Edge[label=6](d1)(a1)
\Edge[label=7](d1)(a2)
\SetUpEdge[style={ultra thick},color=cyan]
\Edge[label=1](a2)(b1)
\Edge[label=2](b1)(a3)
\end{tikzpicture}
\end{minipage}
\begin{minipage}{0.075\textwidth}
$\rightarrow$
\end{minipage}
\begin{minipage}{0.40\textwidth}
\begin{tikzpicture}
\GraphInit[vstyle=Normal]
\Vertex[L=D]{d1} % par défaut x = 0 et y = 0
\Vertex[x=2 , y=1.5, L=A]{a2}
\Vertex[x=0 , y=3, L=C]{c1}
\Vertex[x=2 , y=3, L=B]{b1}
\Vertex[x=4 , y=3, L=C]{c2}
\Edge[label=13](d1)(a2)
\Edge[label=3](a2)(b1)
\Edge[label=3](c1)(a2)
\Edge[label=8](a2)(c2)
\end{tikzpicture}
\end{minipage}
\end{center}

\begin{center}
\captionof*{table}{Seconda iterazione unione nodi con distanza minima minore di 2}
\begin{minipage}{0.40\textwidth}
\begin{tikzpicture}
\GraphInit[vstyle=Normal]
\Vertex[L=D]{d1} % par défaut x = 0 et y = 0
\Vertex[x=2 , y=1.5, L=A]{a2}
\Vertex[x=0 , y=3, L=C]{c1}
\Vertex[x=2 , y=3, L=B]{b1}
\Vertex[x=4 , y=3, L=C]{c2}
\Edge[label=13](d1)(a2)
\Edge[label=3](a2)(b1)
\SetUpEdge[style={ultra thick},color=orange]
\Edge[label=3](c1)(a2)
\Edge[label=8](a2)(c2)
\end{tikzpicture}
\end{minipage}
\begin{minipage}{0.075\textwidth}
$\rightarrow$
\end{minipage}
\begin{minipage}{0.40\textwidth}
\begin{tikzpicture}
\GraphInit[vstyle=Normal]
\Vertex[L=D]{d1} % par défaut x = 0 et y = 0
\Vertex[x=2 , y=1.5, L=A]{a2}
\Vertex[x=0.8 , y=3, L=C]{c1}
\Vertex[x=3.2 , y=3, L=B]{b1}
\Edge[label=13](d1)(a2)
\Edge[label=11](c1)(a2)
\Edge[label=3](a2)(b1)
\end{tikzpicture}
\end{minipage}
\end{center}

I valori ottimi di soglia e numero di iterazioni sono stati cercati sperimentalmente, ma non è
emersa dai risultati una coppia di valori migliore in maniera rilevante rispetto alle altre.
Ispezionando manualmente il grafo, si è constatato che ID autore riferiti alla stessa persona
risultano generalmente distanti 2. Il procedimento è stato ripetuto tre volte, in modo da sfruttare
le informazioni generate nei passi predecenti. Dopo questo numero di iterazioni il grafo raggiunge
quasi una situazione di stabilità, per cui nelle iterazioni successive non vengono uniti altri nodi.

% \clearpage % GRAFICA

I nodi del grafo in figura \ref{img:grafotutti} si riducono da 778 a 336. Gli edge scendono da 1830
a 634, mantenendo lo stesso peso totale di 7.803 (Figura \ref{img:grafotuttidistanza}).

\centerline{
\begin{minipage}{0.80\textwidth}
\setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
% \fbox{\includegraphics[page=1,scale=0.47]{img/GrafoTuttiDistanza23.pdf}}
\fbox{\includegraphics[page=1,scale=0.30]{img/GrafoTuttiDistanza23.pdf}}
\captionof{figure}{Grafo delle collaborazioni - nodi unificati per distanza}
\label{img:grafotuttidistanza}
\end{minipage}
}

I nodi del grafo in figura \ref{img:grafopad} si riducono da 306 a 173. Gli edge scendono da 850 a
439, mantenendo il peso totale di 5.195 (Figura \ref{img:grafopaddistanza}).

\centerline{
\begin{minipage}{1.00\textwidth}
\setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
\fbox{\includegraphics[page=1,scale=0.37]{img/GrafoPadovaniDistanza23.pdf}}
\captionof{figure}{Grafo autori con affiliation padovana - nodi unificati per distanza}
\label{img:grafopaddistanza}
\end{minipage}
}

% TODO mostra tabella o grafico dei confronti delle iterazioni varie

% \clearpage % grafica da fare alla fine

\subsubsection{Unione di nodi in base a nodi adiacenti} \label{ssc:edge}
Osservando i grafi generati senza unire i nodi, si nota la presenza di un elevato numero di
componenti sconnesse formate da 2-4 autori, che sono principalmente effettivi collaboratori tra
loro. È stato sviluppato un metodo di deduplicazione dei nodi che si basa sulle collaborazioni tra
coppie di autori.

Per ogni edge si estraggono i nomi relativi agli estremi, se due edge hanno gli estremi con i nomi
coincidenti, si considerano le coppie di nodi come relative alla stessa persona.

\begin{center}
\captionof*{table}{Unione dei nodi per coppie di nodi adiacenti}
\begin{minipage}{0.40\textwidth}
\begin{tikzpicture}
\GraphInit[vstyle=Normal]
\Vertex[L=B]{b1} % par défaut x = 0 et y = 0
\Vertex[x=2 , y=1.5, L=A]{a2}
\Vertex[x=0.5 , y=1.5, L=A]{a1}
\Vertex[x=2.5 , y=3, L=C]{c1}
\Vertex[x=1.5 , y=0, L=B]{b2}
\Vertex[x=4 , y=3, L=C]{c2}
\Edge[label=2](b2)(a2)
\Edge[label=3](a1)(b1)
\Edge[label=4](c1)(a2)
\Edge[label=6](a2)(c2)
\SetUpEdge[style={dashed},color=orange]
\Edge(b1)(b2)
\Edge(a1)(a2)
\Edge(c1)(c2)
\end{tikzpicture}
\end{minipage}
\begin{minipage}{0.075\textwidth}
$\rightarrow$
\end{minipage}
\begin{minipage}{0.40\textwidth}
\begin{tikzpicture}
\GraphInit[vstyle=Normal]
\Vertex[L=B]{b1} % par défaut x = 0 et y = 0
\Vertex[x=2 , y=1.5, L=A]{a2}
\Vertex[x=4 , y=3, L=C]{c1}
\Edge[label=10](c1)(a2)
\Edge[label=5](a2)(b1)
\end{tikzpicture}
\end{minipage}
\end{center}


\clearpage % GRAFICA

I nodi del grafo in figura \ref{img:grafotutti} si riducono da 778 a 313. Gli edge scendono da 1830
a 615, mantenendo lo stesso peso totale di 7.803 (Figura \ref{img:grafotuttiedge}).

\centerline{
\begin{minipage}{1.05\textwidth}
\setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
\fbox{\includegraphics[page=1,scale=0.40]{img/GrafoTuttiEdge.pdf}}
\captionof{figure}{Grafo delle collaborazioni - nodi unificati per coppie di nodi adiacenti}
\label{img:grafotuttiedge}
\end{minipage}
}

% \clearpage % grafica da fare alla fine

I nodi del grafo in figura \ref{img:grafopad} si riducono da 306 a 174. Gli edge scendono da 850 a
453, mantenendo il peso totale di 5.195 (Figura \ref{img:grafopadedge}).

\centerline{
\begin{minipage}{1.05\textwidth}
\setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
\fbox{\includegraphics[page=1,scale=0.40]{img/GrafoPadovaniEdge.pdf}}
\captionof{figure}{Grafo autori con affiliation padovana - nodi unificati per coppie di nodi adiacenti}
\label{img:grafopadedge}
\end{minipage}
}

\subsection{Errori intrinseci al database} \label{ssc:intrinseci}

Nel corso delle varie iterazioni dell'estrazione dei dati, sono state identificate
varie lacune nei record del database, riassunte di seguito

\begin{itemize}
\item[--]

I record di Paper-Autore-Affiliation non contengono l'ID affiliation in 264.069.014 record su
325.498.062. In particolare per autori con pochi paper, la fase di pruning basata sulle
affiliation è molto influenzata da questa mancanza.

\item[--]

Nei record Paper-Autore-Affiliation, può mancare il record relativo a uno dei co-autori. In altri
        casi l'ID autore presente può essere errato.

\item[--]

Tra i co-autori dei un paper, possono essere riportati più ID autore riferiti alla stessa persona.

\item[--]

I nomi con caratteri non ASCII sono trattati in maniera imprevedibile.

\end{itemize}

% Nel prossimo capitolo si propongono dei metodi alternativi di estrazione dei dati per tentare di
% aggirare questi problemi.

Nella prossima sezione si propongono dei metodi alternativi di estrazione dei dati per tentare di
aggirare questi problemi.

% \whitePage
% \chapter{Troubleshooting} \label{cap:trouble}
\section{Troubleshooting}
Il grafo generato attraverso gli accorgimenti discussi in precedenza presenta ancora delle carenze.

% subsubsection nomi mancanti

In particolare, la lista di partenza include solo gli attuali afferenti DEI, estratti dal sito di
dipartimento. Questo comporta la mancanza di professori, non più attivi a Padova, che avevano ruolo
di aggregatore di una comunità.

Ad esempio, inserendo manualmente Alberto Apostolico, prolifico autore di paper all'Università di
Padova, nella lista di partenza, il grafo, in prossimità del professore, cambia in maniera
rilevante, come illustrato in figura \ref{img:apostolico}. I nodi non sono stati uniti per
evidenziare come l'assenza dei nodi riferiti al professor Apostolico influenzerebbe la
deduplicazione dei nodi. Utilizzando questa procedura, emerge una comunità di collaboratori che
precendentemente erano distanti nel grafo.

\centerline{
\begin{minipage}{0.80\textwidth}
\setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
\fbox{\includegraphics[page=1,scale=1.80]{img/cropped_GrafoApostolico.pdf}}
\captionof{figure}{Rete di collaborazioni ottenuta aggiungendo manualmente il nome del professor
    Apostolico}
\label{img:apostolico}
\end{minipage}
}

\subsection{Metodo per ampliare il set di autori}

Un metodo generale proposto per identificare anche autori non presenti nella lista degli attuali
afferenti DEI è:

\begin{enumerate}[noitemsep, topsep=0pt]
\item
Estrarre gli ID autore dalla lista di partenza
\item
Estrarre le terne di ID paper-autore-affiliation
\item
Estrarre tutti i record paper-autore-affiliation relativi ai paper identificati al punto precedente
\item
Estrarre una nuova lista di ID autore dai paper appena estratti, ossia i co-autori degli autori nella
lista utilizzata al punto 2 per estrarre le terne
\item
Eventualmente ridurre il set di autori basandosi sulle affiliation dei loro paper
\item
Ripetere i passi 2-5 per un numero predefinito di volte o fino alla convergenza della rete, nel
momento in cui non vengono identificati ulteriori co-autori
\end{enumerate}

In questo modo si estraggono tutte le comunità relative al set di affiliation usato come filtro. Una
singola collaborazione con un dipartimento esterno comporta alle iterazioni successive l'inclusione
di molti autori di quel dipartimento. Un metodo proposto per risolvere il problema e generare una
rete di autori relativa solo al dipartimento di interesse è, alla fine delle iterazioni e della
creazione dei cluster, considerare solo quelli che contengono almeno un nome presente nella lista
originale. In questo modo dipartimenti esterni, anche se connessi al grafo, vengono filtrati.

\subsubsection{Implementazione del metodo}

Gli step 2,3 e 4 sono stati implementati, estraendo 3.845.835 record Paper-Autore-Affiliation,
relativi a 56.450 paper univoci, da cui si ricavano 256.917 ID autore e 193.396 nomi univoci. Questi
valori decisamente elevati di co-autori e paper sono dovuti alla presenza di riviste, classificate come
paper nel database, a cui hanno collaborato centinaia e anche migliaia di autori.

Filtrando i paper con più di 30 collaborazioni, il set di paper viene ridotto a 52.001 paper
univoci, con 311.816 record Paper-Autore-Affiliation. Vengono identificati 148.124 ID autore per un
totale di 112.440 nomi univoci. Da questa selezione di paper ed autori è stato generato un grafo
applicando l'algoritmo di deduplicazione per nodi adiacenti. Un dettaglio di alcune collaborazioni
ottenute in questo modo è incluso nella Figura \ref{img:grupporicerca}.

\begin{figure}[ht]
    \vspace*{-3cm}
    \centering
    \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
    \fbox{\includegraphics[page=1,scale=1.20]{img/GruppoRicercaCrop.pdf}}
    \caption{Dettaglio di alcune collaborazioni di ricerca ottenute ampliando il set degli autori}
    \label{img:grupporicerca}
\end{figure}

Il metodo per nodi adiacenti si è rivelato valido nell'aggregare i dati estratti; ad esempio, nel
grafo è presente un nodo etichettato \textit{"Cinzia Pizzi"}, correttamente individuato e connesso
con tutti i co-autori con cui la docente DEI ha collaborato. Sono inoltre presenti
altri due nodi etichettati \textit{"c pizzi"}, che si riferiscono a Claudio Pizzi, affiliato alla
facoltà di Economia a Venezia e Cristina Pizzi, docente a Modena, che l'algoritmo ha mantenuto
correttamente separati.

Tra la professoressa Cinzia Pizzi e un team di archeologi dell'Università di Milano, sono presenti
connessioni spurie, causate da un record errato nel database, che attribuisce un paper a cui ha
collaborato Chiara Pizzi all'ID autore della professoressa.

Il set di autori può essere ridotto, mantenendo solo gli autori che hanno pubblicato almeno un paper
con affiliation padovana. In questo modo il set si riduce a 2.442 ID autori padovani per un totale
di 2.094 nomi univoci, che hanno pubblicato 9.572 paper a cui corrispondono 23.417 record
paper-autore-affiliation.

Per i motivi elencati nella sezione precedente, questo comporta una mancata identificazione di
alcuni autori, i cui record paper-autore-affiliation non sono correttamente compilati. Per
identificare anche questi autori, un possibile metodo proposto è di analizzare i vicini del nodo,
considerandolo padovano se una certa frazione dei suoi vicini lo è.

Un altro metodo, proposto ma non implementato, per affinare la rete estratta è di, una volta
deduplicati i nodi, scegliere fra quelli con lo stesso nome solo quello che si reputa essere più
verosimilmente afferente al DEI.


\whitePage
\chapter{Risultati} \label{cap:risultati}

\section{Generazione delle comunità}

I grafi generati secondo i metodi descritti nella sezione precedente sono stati suddivisi in
comunità utilizzando gli algoritmi descritti nella sezione \ref{sec:metodi}.

Le comunità sono inoltre state generate anche considerando solo la componene centrale dei grafi.

Il numero di comunità in cui viene suddiviso il grafo è calcolato dagli algoritmi utilizzati in modo
da generare la suddivisione ottimale.


\section{Analisi dei risultati} \label{sec:risultati}

Per valutare la qualità delle partizioni generate, è stata calcolata la \textit{V-measure}
considerando il Settore Scientifico Disciplinare estratto dal sito di dipartimento come classe
corretta di appartenenza degli autori.

Si è scelto di non considerare gli autori con etichetta \textit{"N/A"} per il calcolo della
\textit{V-measure}, perché la classe corrispondente risulta frammentata in modo quasi uniforme tra i
cluster, riducendo la completezza e quindi il valore di \textit{V-measure} calcolato.

\subsection{Dati generati}

Nella tabella \ref{tab:valorivmeasure} sono indicati i valori di \textit{V-measure} per tutte le
possibili combinazioni di metodologia di estrazione paper, unione dei nodi e creazione dei cluster.

\clearpage % GRAFICA
{
    \footnotesize
    % \small
% \begin{table}[htbp]
% \begin{table}[H]
% \centering
\begin{center}
% \begin{tabular}{ |l|l|l|r| }
    \captionof{table}{Numero di cluster e valore di \textit{V-measure} delle partizioni generate}
\label{tab:valorivmeasure}
\begin{longtable}{ |l|l|l|r|r| }
    \hline
        Set paper & Unione & Algoritmo di clustering & Num. di cluster & \textit{V-measure} \\
    \hline
        \multirow{18}{4em}{Tutti}
        &
        \multirow{6}{4em}{Nomi}
        &Blockmodel  &4&0.51\\
        &&Clauset-Newman-Moore&15&0.63\\
        &&Girvan-Newman  &18&0.57\\
        &&Blockmodel GC  &6&0.54\\
        &&CNM Componente Centrale  &9&0.62\\
        &&GN Componente Centrale  &12&0.56\\
    \cline{2-5}
        % cella tutti
        &
        \multirow{6}{4em}{Distanza}
        &Blockmodel &10&0.36\\
        &&Clauset-Newman-Moore &64&0.44\\
        &&Girvan-Newman &64 &0.48\\
        &&Blockmodel GC  &6&0.44\\
        &&CNM Componente Centrale  &8&0.40\\
        &&GN Componente Centrale  &15&0.52\\
    \cline{2-5}
        % cella tutti
        &
        \multirow{6}{4em}{Edge}
        &Blockmodel &5&0.35\\
        &&Clauset-Newman-Moore &56&0.45\\
        &&Girvan-Newman &56&0.48\\
        &&Blockmodel GC  &6&0.47\\
        &&CNM Componente Centrale  &8&0.42\\
        &&GN Componente Centrale  &15&0.50\\
    \cline{1-5}
        \multirow{18}{4em}{Padovani}
        &
        \multirow{6}{4em}{Nomi}
        &Blockmodel &3&0.40\\
        &&Clauset-Newman-Moore &13&0.58\\
        &&Girvan-Newman &16&0.62\\
        &&Blockmodel GC  &3&0.41\\
        &&CNM Componente Centrale  &8&0.52\\
        &&GN Componente Centrale  &11&0.61\\
    \cline{2-5}
        % cella padovani
        &
        \multirow{6}{4em}{Distanza}
        &Blockmodel &6&0.48\\
        &&Clauset-Newman-Moore &20&0.52\\
        &&Girvan-Newman &25&0.64\\
        &&Blockmodel GC  &4&0.52\\
        &&CNM Componente Centrale  &9&0.61\\
        &&GN Componente Centrale  &12&0.63\\
    \cline{2-5}
        % cella padovani
        &
        \multirow{6}{4em}{Edge}
        &Blockmodel &5&0.49\\
        &&Clauset-Newman-Moore &20&0.52\\
        &&Girvan-Newman &25&0.65\\
        &&Blockmodel GC  &6&0.60\\
        &&CNM Componente Centrale  &9&0.63\\
        &&GN Componente Centrale  &12&0.65\\
    \hline
% \end{tabular}
\end{longtable}
% \end{table}
\end{center}
}

Gli stessi dati sono riportati graficamente in figura \ref{img:graficovmeasure}, utilizzando le
seguenti etichette:\\
Tu: tutti gli autori estratti per collaborazione\\
Pa: autori con almeno un paper con affiliation padovana\\
No: Unione dei nodi in base ai nomi\\
Di: Unione dei nodi in base alla distanza\\
Ed: Unione dei nodi in base a nodi adiacenti\\
Bl: comunità generate dall'algoritmo Blockmodel\\
Cl: comunità generate dall'algoritmo Clauset-Newman-Moore\\
Gi: comunità generate dall'algoritmo Girvan-Newman\\
GC: indica l'elaborazione effettuata sulla Componente Centrale


% figura grafico v-measure
\centerline{
\begin{minipage}{1.15\textwidth}
\setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
\fbox{\includegraphics[page=1,scale=0.80]{img/Validation_generale_DEI.pdf}}
    \captionof{figure}{Valori di \textit{V-measure} delle partizioni generate}
\label{img:graficovmeasure}
\end{minipage}
}

% TODO da qualche parte 4 grafi, layout fisso colori variabili in base ai diversi modi di generare
% cluster. (volendo 24 grafi colorati a gruppi di 4)

% \clearpage

\subsection{Analisi}

\subsubsection{Confronto tra i metodi di estrazione}

I valori di \textit{V-measure}, aggregati per metodo di estrazione dei dati ed unione dei nodi, sono
riassunti in figura \ref{img:vmeasureestrazione}.

I grafi generati considerando solo i paper scritti da autori con almeno un affiliation padovana
hanno un valore medio di \textit{V-measure} di $0.56$, lievemente superiore al valore medio ottenuto
dai grafi generati considerando tutti i paper estratti, pari a $0.49$.

Il valore della \textit{V-measure} del grafo generato considerando tutti i paper estratti ed unendo
i nodi per nome è fra i più alti, ma ciò non corrisponde a un grafo ben rappresentativo della rete
di autori del DEI, per i motivi illustrati nella sottosezione \ref{ssc:padovani}.

% figura grafico v-measure aggregata per strada
\begin{figure}[H]
    \begin{minipage}[c]{0.60\textwidth}
    \setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
    \fbox{\includegraphics[page=1,scale=0.40]{img/Validation_Unione_DEI.pdf}}
    \end{minipage}
    % \hfill
    \begin{minipage}[c]{0.32\textwidth}
    \caption{Medie dei valori di \textit{V-measure} aggregate per metodo di estrazione degli autori
        e per metodo di unione dei nodi}
    \label{img:vmeasureestrazione}
    \end{minipage}
\end{figure}

% \centerline{
% \begin{minipage}{1.15\textwidth}
% \setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
% \fbox{\includegraphics[page=1,scale=0.40]{img/Validation_Unione_DEI.pdf}}
% \captionof{figure}{Medie dei valori di \textit{V-measure} aggregate per metodo di estrazione}
% \label{img:vmeasureestrazione}
% \end{minipage}
% }

% \clearpage

\subsubsection{Confronto tra i metodi di community detection}

I valori di \textit{V-measure}, aggregati per algoritmo di generazione dei cluster, sono riassunti
in figura \ref{img:vmeasurecluster}.

Il metodo Girvan-Newman si è rivelato essere il migliore in termini di \textit{V-measure}, sia
quando applicato all'intero grafo, sia quando applicato solo alla componente centrale dello stesso.

Nel caso del metodo Blockmodel, si nota una differenza tra l'analisi dell'intero grafo e della sua
componente centrale, ed è stata rilevata una maggiore efficacia del metodo quando applicato solo
alla componente centrale del grafo.

\begin{figure}[H]
    \begin{minipage}[c]{0.60\textwidth}
    \setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
    \fbox{\includegraphics[page=1,scale=0.40]{img/Validation_Comunita_DEI.pdf}}
    \end{minipage}
    % \hfill
    \begin{minipage}[c]{0.32\textwidth}
        \caption{Medie dei valori di \textit{V-measure} aggregate per algoritmo di generazione cluster }
    \label{img:vmeasurecluster}
    \end{minipage}
\end{figure}

% \centerline{
% \begin{minipage}{1.15\textwidth}
% \setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
% \fbox{\includegraphics[page=1,scale=0.40]{img/Validation_Comunita_DEI.pdf}}
% \captionof{figure}{Medie dei valori di V-measure aggregate per algoritmo di generazione cluster}
% \label{img:vmeasurecluster}
% \end{minipage}
% }

Nelle pagine successive sono riportati i grafi che hanno ottenuto i valori migliori di
\textit{V-measure}

In figura \ref{fig:grafipadovaniedge} sono presenti i grafi relativi ai grafi generati considerando
solo gli autori con almeno un'affiliation padovana, unendo i nodi seguendo la strategia dei nodi
adiacenti. In figura \ref{fig:grafipadovaniedgeaggregati} i cluster degli stessi grafi sono stati
aggregati per evidenziare le relazioni tra le comunità del grafo. Le figure evidenziano come le
comunità generate, in particolare quelle di minore dimensione, siano discretamente omogenee, mentre
quelle di maggiore dimensione siano più frazionate.


In figura \ref{fig:grafigirvanaggregati} sono riportati i cluster ottenuti applicando l'algoritmo di
Girvan e Newman alle componenti centrali dei grafi generati con i diversi approcci proposti.

\clearpage
\begin{figure}[ht]
    \centering
        \begin{subfigure}[b]{0.5\textwidth}
            \centering
            \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
            % \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_edge_girvan_DEI.pdf}}
            \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoPadovaniEdgeGirvan.pdf}}
            \caption{Girvan Newman}
        \end{subfigure}%
        ~
        \begin{subfigure}[b]{0.5\textwidth}
            \centering
            \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
            \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoPadovaniEdgeGirvanGiant.pdf}}
            \caption{GN - Componente centrale}
        \end{subfigure}
        \\
        \begin{subfigure}[b]{0.5\textwidth}
            \centering
            \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
            \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoPadovaniEdgeClanemo.pdf}}
            \caption{Clauset Newman Moore}
        \end{subfigure}%
        ~
        \begin{subfigure}[b]{0.5\textwidth}
            \centering
            \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
            % \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_edge_clanemo_DEI.pdf}}
            \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoPadovaniEdgeClanemoGiant.pdf}}
            \caption{CNM - componente centrale}
        \end{subfigure}%
        \\
        \begin{subfigure}[b]{0.5\textwidth}
            \centering
            \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
            \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoPadovaniEdgeBlockmodel.pdf}}
            \caption{Block Model}
        \end{subfigure}%
        ~
        \begin{subfigure}[b]{0.5\textwidth}
            \centering
            \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
            \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoPadovaniEdgeBlockmodelGiant.pdf}}
            \caption{BM - componente centrale}
        \end{subfigure}%
    \caption{Confronto delle suddivisioni in cluster del grafo degli autori con almeno un'affiliation
    padovana, dove i nodi sono stati uniti utilizzando la strategia per nodi adiacenti}
    \label{fig:grafipadovaniedge}
\end{figure}

\clearpage
\begin{figure}[ht]
    \centering
        \begin{subfigure}[b]{0.5\textwidth}
            \centering
            \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
            % \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_edge_girvan_DEI.pdf}}
                \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_edge_girvnew_DEI.pdf}}
                \caption{Girvan Newman}
            \end{subfigure}%
            ~
            \begin{subfigure}[b]{0.5\textwidth}
                \centering
                \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
                \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_edge_Zgirvnew_DEI.pdf}}
                \caption{GN - Componente centrale}
            \end{subfigure}
            \\
            \begin{subfigure}[b]{0.5\textwidth}
                \centering
                \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
                \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_edge_clanemo_DEI.pdf}}
                \caption{Clauset Newman Moore}
            \end{subfigure}%
            ~
            \begin{subfigure}[b]{0.5\textwidth}
                \centering
                \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
                % \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_edge_clanemo_DEI.pdf}}
                \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_edge_Zclanemo_DEI.pdf}}
                \caption{CNM - componente centrale}
            \end{subfigure}%
            \\
            \begin{subfigure}[b]{0.5\textwidth}
                \centering
                \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
                \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_edge_blockmodel_DEI.pdf}}
                \caption{Block Model}
            \end{subfigure}%
            ~
            \begin{subfigure}[b]{0.5\textwidth}
                \centering
                \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
                \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_edge_Zblockmodel_DEI.pdf}}
                \caption{BM - componente centrale}
        \end{subfigure}%
    \caption{Confronto delle suddivisioni in cluster del grafo degli autori con almeno un'affiliation
    padovana, dove i nodi sono stati uniti utilizzando la strategia per nodi adiacenti; i cluster sono
    stati aggregati in nodi, i colori dei nodi indicano la suddivisione in classi dei cluster;
    l'etichetta corrisponde alla classe predominante nel cluster}
    \label{fig:grafipadovaniedgeaggregati}
\end{figure}

\clearpage
\begin{figure}[ht]
    \centering
        \begin{subfigure}[b]{0.5\textwidth}
                \centering
                \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
                \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_tutti_nomi_Zgirvnew_DEI.pdf}}
                \caption{Tutti - uniti per nome}
            \end{subfigure}%
            ~
            \begin{subfigure}[b]{0.5\textwidth}
                \centering
                \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
                \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_nomi_Zgirvnew_DEI.pdf}}
                \caption{Padovani - uniti per nome}
            \end{subfigure}
            \\
            \begin{subfigure}[b]{0.5\textwidth}
                \centering
                \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
                \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_tutti_distanza_Zgirvnew_DEI.pdf}}
                \caption{Tutti - uniti per distanza}
            \end{subfigure}%
            ~
            \begin{subfigure}[b]{0.5\textwidth}
                \centering
                \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
                % \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_edge_clanemo_DEI.pdf}}
                \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_distanza_Zgirvnew_DEI.pdf}}
                \caption{Padovani - uniti per distanza}
            \end{subfigure}%
            \\
            \begin{subfigure}[b]{0.5\textwidth}
                \centering
                \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
                \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_tutti_edge_Zgirvnew_DEI.pdf}}
                \caption{Tutti - uniti per nodi adiacenti}
            \end{subfigure}%
            ~
            \begin{subfigure}[b]{0.5\textwidth}
                \centering
                \setlength{\fboxrule}{0pt} % barbatrucco per far sparire il bordo della box
                \fbox{\includegraphics[page=1,scale=0.30]{img/Aggregati/GrafoAggregato_padovani_edge_Zgirvnew_DEI.pdf}}
                \caption{Padovani - uniti per nodi adiacenti}
        \end{subfigure}%
    \caption{Confronto delle suddivisioni in cluster generate dall'algoritmo Girvan-Newman applicato
    alla componente centrale del grafo; i cluster sono stati aggregati in nodi, i colori dei nodi
    indicano la suddivisione in classi dei cluster; l'etichetta corrisponde alla classe
    predominante nel cluster}
    \label{fig:grafigirvanaggregati}
\end{figure}

% \centerline{
% \begin{minipage}{1.20\textwidth}
% \setlength{\fboxrule}{0pt}	%barbatrucco per far sparire il bordo della box
% \fbox{\includegraphics[page=1,scale=0.47]{img/GrafoTuttiDistanza23.pdf}}
% \captionof{figure}{Grafo collaborazioni unificati per distanza}
% \label{img:grafotuttidistanza}
% \end{minipage}
% }

% \subsubsection{Tutti vs padovani}\label{ssc:analisitp}
% Tra tutti e padovani c'è molta differenza.
% \subsubsection{Collassi vari}\label{ssc:analisicollassi}
% Tra le varie strade di collasso non c'è sostanziale differenza.
% \subsubsection{Metodi di community detection}\label{ssc:analisicd}
% Tra le varie comunità non c'è sostanziale differenza.

% TODO subsubsection su iterazioni collasso short path e perché non è vero

% TODO alcune strade sono migliori anche se la v-measure è simile

\whitePage
\chapter{Conclusioni} \label{cap:conclusioni}

Questo lavoro si proponeva come obiettivo la creazione di una rete di co-autori di pubblicazioni
scientifiche, in particolare degli autori afferenti al Dipartimento di Ingegneria dell'Informazione
dell'Università di Padova.

L'approccio seguito è stato quello di estrarre dal database \textit{Microsoft} le collaborazioni tra
gli autori il cui nome figura nella lista di afferenti DEI. La rete generata è stata filtrata
mantenendo solo gli autori con almeno una pubblicazione con affiliation padovana.

Nelle due reti generate in questo modo, compaiono nodi multipli associati allo stesso autore DEI.
Sono stati sviluppati tre metodi di deduplicazione per aggregare i nodi relativi allo stesso autore.
Il metodo dell'unione dei nodi per nome presenta delle lacune nel caso di omonimie. I metodi di
unione dei nodi per distanza minima o per nodi adiacenti sono stati sviluppati per risolvere questo
problema.

Le sei reti generate seguendo tutte le possibili combinazioni dei metodi precedenti sono state
suddivise in cluster utilizzando tre algoritmi, applicati all'intero grafo o solo alla sua
componente centrale.

Alcuni dei metodi seguiti hanno prodotto una rete di autori soddisfacente. In particolare quando la
rete viene filtrata considerando gli autori con almeno un paper con affiliation padovana, gli autori
estratti sono verosimilmente afferenti al DEI.

Le problematiche evidenziate (la presenza di nodi omonimi e di nodi multipli dello stesso autore)
non consentono un'identificazione perfetta dei gruppi di ricerca, ma la struttura macroscopica che
si ricava dai grafi fornisce un'indicazione della composizione del dipartimento, in particolare
quando si utilizza l'algoritmo di Girvan e Newman.

Si è constatata l'importanza degli autori, non più afferenti dei, che in passato sono stati fulcro
di una comunità.

Per cercare di identificare e includere questi autori, è stato proposto un metodo per ampliare il
set di autori che considera i co-autori dei paper scritti dagli autori del dipartimento.

La prima iterazione di questo metodo proposto è stata implementata, ottenendo una rete molto
completa ma che non è limitata al dipartimento.

Un futuro studio più approfondito delle strategie di rimozione dei nodi esterni può portare alla
generazione di una rete che descrive in maniera accurata il dipartimento.

% Partendo da una lista di nomi di un dipartimento si può estrarre un grafo che lo rappresenti? Le
% comunità generate rispecchiano quelle reali?

% TODO se vuoi fallo su matematica e mostra un grafo con qualche valore di v-measure


%%% OBBLIGATORIA:


%::::::::::::::::::::::::::::::::::BIBLIOGRAFIA::::::::::::::::::::::::::::::::::::::::::::::::::::::

% \nocite{*} % visto che non ho citato niente serve per non offendere bibtex
\bibliographystyle{plainurl}
% sarebbe bello usare bibtex ma non funziona, o forse non lo so usare
% vedremo di imparare
\bibliography{tesiautnet} %%% nome file(s)

\end{document}

%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
