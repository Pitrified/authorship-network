%&TeX spellcheck = it_IT
\documentclass[12pt,a4paper,twoside]{report}
\usepackage{geometry}%to cus­tomize page lay­out
\usepackage[italian]{babel}%man­ages cul­tur­ally-de­ter­mined ty­po­graph­i­cal (and other) rules, and hy­phen­ation pat­terns
\usepackage[T1]{fontenc}%perchè faccia per bene i caratteri accentati nell'output
\usepackage[utf8]{inputenc}%perchè riconosca i caratteri accentati nel sorgente tex
\usepackage[hyphens]{url}%per inserire url
\usepackage{fancyhdr}%per header e foooter
\usepackage{graphicx}%per le immagini
\usepackage{wrapfig}%to wrap images with text
%\usepackage{epsfig}
\usepackage{amsthm}
\usepackage{listings}%per inserie codice sorgente
\usepackage{xcolor}%colori! :D
\usepackage{amsmath}%per formule matematiche
\usepackage{amssymb} %simboli matematici
\usepackage{booktabs}%en­hances the qual­ity of ta­bles
\usepackage{caption}%to cus­tomise the cap­tions in float­ing en­vi­ron­ments like fig­ure and ta­ble
\usepackage{subfig}%ma­nip­u­la­tion and ref­er­ence of small or ‘sub’ fig­ures and ta­bles within a sin­gle fig­ure or ta­ble en­vi­ron­ment
\usepackage{eurosym}%The Euro­pean cur­rency sym­bol for the Euro
\usepackage{siunitx}%tante cose sulle unità di misura
\usepackage{calligra}%cal­li­graphic font
\usepackage{verbatim}
\usepackage{indentfirst}%Indent first paragraph after section header
\usepackage{microtype}%fa diventare i font più belli
\usepackage{lmodern}%fontbelli
\usepackage{braket}%parentesi
\usepackage{mathtools}%to en­hance the ap­pear­ance of doc­u­ments con­tain­ing a lot of math­e­mat­ics
\usepackage{mathrsfs}  %per fare le lettere calligrafiche
\usepackage{bm}%define \bm{} that makes the argument bold
\usepackage{empheq}%markup per le formule di amsmath
\usepackage{pstricks}%macros for gen­er­at­ing PostScript that is us­able with most TeX macro for­mats
\usepackage{emptypage}%toglie il numero di pagina alle pahine create con clearpage e cleardoublepage
\usepackage{todonotes}
\usepackage{textcomp}%per il simbolo dei gradi
\usepackage{enumitem}%per controllare gli spazi nelle liste
\usepackage{pbox}%per fare celle con più linee nelle tabelle
\usepackage{placeins}%con \FloatBarrier mette il testo dopo le cose float
\usepackage{longtable}%per tabelle che vanno da una pagina all'altra
\usepackage[final]{pdfpages}%per importare pdf

%fine pacchetti

%:::::::::::::::::::::IMPOSTAZIONI::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

\geometry{a4paper,top=85pt,bottom=85pt,left=127pt,right=127pt} %imposto la geometria del documento
\captionsetup{tableposition=top,figureposition=bottom,font=small}  %impostazione dei caption di immagini e tabelle
%\DeclareCaptionFormat{elaborazione}{#1#2#3\par}

%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::


\begin{document}

%::::::::::::::::::::::::::DEFINIZIONI DI COMANDI::::::::::::::::::::::::::::::::::::::::::::::::::::
\newcommand{\whitePage}{\cleardoublepage} % pagina bianca e rende la successiva una pagina destra

\newcommand{\HRule}{\rule{\linewidth}{0.6mm}} % command for the horizontal lines, change thickness here

\newcommand*{\eupgrave}{\MakeUppercase{è}} % maiuscola è accentata
%fine comandi
%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::



%::::::::::::::::::::::::::IMPOSTAZIONI GLOBALI::::::::::::::::::::::::::::::::::::::::::::::::::::::
% \setlist(nosep)
%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::


%::::::::::::::::::::::::::::::::TITLE PAGE::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
\begin{titlepage}



\center  % Center everything on the page

\textsc{\Large \\[4.5cm]Università degli Studi di Padova}\\[1.5cm]
\textsc{\Large Corso di laurea triennale in Ingegneria dell'Informazione}\\[0.5cm]

\noindent\rule{\textwidth}{0.6pt}\\[0.4cm]
{ \Large{\bfseries Analisi di una rete di autori di pubblicazioni scientifiche}}\\[0.4cm]
\noindent\rule{\textwidth}{0.6pt}\\[1cm]

\includegraphics[height=4cm]{img/unipd-bn}\\[1cm]


\begin{minipage}{0.4\textwidth}
\begin{flushleft} \large
\emph{Laureando:}\\
Pietro Maria \textsc{Nobili} % Your name
\end{flushleft}
\begin{flushleft} \large
\emph{Matricola:}\\
1067941 % Your number
\end{flushleft}
\end{minipage}
~
\begin{minipage}{0.5\textwidth}
\begin{flushright} \large
\emph{Relatore:} \\
Prof.ssa Cinzia \textsc{Pizzi} \\% Supervisor's Name
\end{flushright}
\begin{flushright} \large
\emph{Correlatore:} \\
Dott. Mattia \textsc{Samory} % Supervisor's Name
\end{flushright}
\end{minipage}\\[2cm]


{\large 18 Luglio 2018}\\
{\large Anno Accademico 2017/2018}\\[3cm] % Date, change the \today to a set date if you want to be precise


\vfill % Fill the rest of the page with whitespace

\end{titlepage}
%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::


\whitePage

%::::::::::::::::::::::::::::::::::INDEX:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

\pagenumbering{Roman}
\tableofcontents

%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::



%::::::::::::::::::::::::::::::::::THE REAL CONTENT::::::::::::::::::::::::::::::::::::::::::::::::::

\whitePage



\newpage
\pagenumbering{arabic}
\setcounter{page}{1}
\section*{Abstract} \label{abstract} % the asterisk is to remove the numbering
\addcontentsline{toc}{chapter}{Abstract} % we put the asterisk so we add it manually to the toc
% qua ci sara' un glorioso abstract
È stato generato un grafo delle pubblicazioni del DEI.

Sono stati cercati cluster nel grafo.

% TODO spezzettare le parole in un abstract è orribile
Sono stati confrontati con la struttura delle comunità del dipartimento.


% \whitePage
\section*{Introduzione} \label{introduzione}
\addcontentsline{toc}{chapter}{Introduzione} % we put the asterisk so we add it manually to the toc
Breve descrizione del community detection e della sua importanza, in generale e nel caso particolare delle comunità di autori di pubblicazioni scientifiche.

Presentazione della struttura della tesi.



\whitePage
\chapter{Community detection} \label{cap:comdet}

\section{Studi precedenti} \label{sec:storia}
Descrizione della community detection.

Descrizione della bibliografia attuale sui grafi di coautori.

\section{Metodi usati} \label{sec:metodi}
Che metodi vengono usati per generare le comunità.

\subsection{Girvan–Newman} \label{subsec:gn}
Descrizione metodo GN.

Nella libreria SNAP di Stanford \cite{snapnets}

\subsection{Blockmodel} \label{subsec:bn}
Descrizione metodo blockmodel.

\subsection{Clauset-Newman-Moore} \label{subsec:cnm}
Descrizione metodo Clauset-Newman-Moore se implementato.



\whitePage
\chapter{Estrazione dati} \label{cap:estrazione}

\section{Struttura database Microsoft} \label{sec:msr}
% https://academic.microsoft.com/#/faq
% https://dl.acm.org/citation.cfm?doid=2740908.2742839
% citato da qua
Il database da cui sono stati estratti i dati è il Microsoft Academic Graph \cite{Sinha:2015:OMA:2740908.2742839}, che contiene informazioni relative a pubblicazioni scientifiche, autori, istituzioni accademiche, riviste, conferenze e settori di studio. I record presenti nei file forniscono le relazioni tra queste entità.

Il database è composto da undici file di testo che contengono un record per riga, con i campi separati da tabulazione.

Per il lavoro oggetto di questa tesi sono stati utilizzati in particolare quattro file del database, la cui struttura è illustrata nella tabella \ref{table:msrstruttura}.

L'ultimo aggiornamento del database disponibile risale all'agosto 2015.
\begin{center}
%\begin{table}
%\begin{tabular}{| l | l |}
\begin{longtable}{| l | l |}
\hline
Nome file&
Campi\\
(Numero record)&\\
\hline
Authors.txt&Author ID\\
(123.017.489)&Author Name\\
\hline
PaperAuthorAffiliations.txt&Paper ID\\
(325.498.063)&Author ID\\
&Affiliation ID\\
&Original affiliation name\\
&Normalized affiliation name\\
&Author sequence number\\
\hline
Affiliations.txt&Affiliation ID\\
(2.719.436)&Affiliation name\\
\hline
Papers.txt&Paper ID\\
(122.695.085)&Original paper title\\
&Normalized paper title\\
&Paper publish year\\
&Paper publish date\\
&Paper Document Object Identifier (DOI)\\
&Original venue name\\
&Normalized venue name\\
&Journal ID mapped to venue name\\
&Conference series ID mapped to venue name\\
&Paper rank\\
\hline
%\end{tabular}
\caption{Struttura del database}
\label{table:msrstruttura}
\end{longtable}
%\end{table}
\end{center}
\FloatBarrier

\section{Processo di estrazione} \label{sec:processo}
%\subsection{Approccio iniziale} \label{subsec:primo}
Dal sito di dipartimento (\url{http://www.dei.unipd.it/lista-docenti}) sono stati estratti i nomi degli attuali afferenti DEI, includendo Docenti, Assegnisti di ricerca, Collaboratori di ricerca e Dottorandi.

La lista ottenuta comprende 379 autori.
% TODO non fare il pezzente e scrivi quanti hanno l'etichetta
Dove presente, è stato estratto il Settore Scientifico Disciplinare dell'afferente, che ha fornito la partizione in classi utilizzata come rifermento alla fine dell'elaborazione dei dati.

I nomi propri degli autori sono stati abbreviati in tutte le possibili combinazioni per rispecchiare la struttura del database Microsoft, ed è stato creato un file con la struttura seguente:
\begin{center}
\captionof{table}{PersoneComunitaDEI.txt}
\begin{minipage}{0.90\textwidth}
\begin{verbatim}
a a pietracaprina            INF/01 - INFORMATICA
a alberto pietracaprina	     INF/01 - INFORMATICA
andrea a pietracaprina	      INF/01 - INFORMATICA
andrea alberto pietracaprina	INF/01 - INFORMATICA
...

\end{verbatim}
\end{minipage}
\end{center}

Utilizzando questa lista di nomi ed abbreviazioni, sono stati estratti dal file \textit{Authors.txt} le coppie (ID autore, nome autore), che risultano essere 8.135, con una media di 21,5 ID per nome.

Con il set di ID autori ottenuto, sono stati estratti dal file \textit{PaperAuthorAffiliations.txt} i record relativi ai paper, nella forma (ID paper, ID autore, ID affiliation), per un totale di 62.291 paper.

Dalla lista così ottenuta, non necessariamente ordinata, sono stati creati gli edge fra ID autore, che sono poi stati aggregati creando una edge list pesata, come indicato in \ref{tab:creazioneedge}
\begin{center}

% TODO mettere caption degli esempietti senza tabella
%\captionof{elaborazione}{Creazione edge}
%Creazione edge
\captionof{table}{Creazione edge}
\label{tab:creazioneedge}
\begin{minipage}{0.40\textwidth}
\begin{verbatim}
IDpaper1  IDautore1
IDpaper1  IDautore2
IDpaper1  IDautore3
IDpaper2  IDautore2
IDpaper2  IDautore3
\end{verbatim}
\end{minipage}
\begin{minipage}{0.075\textwidth}
$\rightarrow$
\end{minipage}
\begin{minipage}{0.40\textwidth}
\begin{verbatim}
IDautore1  IDautore2  1
IDautore1  IDautore3  1
IDautore2  IDautore3  2
\end{verbatim}
\end{minipage}
\end{center}
A partire da questi edge è stato generato il primo grafo che rappresenta la rete degli autori.
% TODO riscrivila
Questo metodo di creazione del grafo, che considera le collaborazioni tra autori, riduce a 778 il set di ID autori per un totale di 287 nomi univoci. Il grafo è formato da 1.830 edge con 7.803 di peso totale.


% Questo è il grafo ... TODO label e caption e posizionamento civile
\begin{minipage}{1.4\textwidth}
%[width=\textwidth]
\includepdf{img/GrafoCollaborazioni.pdf}
\captionof{figure}{Grafo collaborazioni}
\label{img:grafoprimo}
\end{minipage}
\clearpage

\subsubsection{Analisi della prima estrazione}\label{ssc:analisiuno}

I due problemi principali di questo processo emergono al momento dell'estrazione degli ID autore dal file \textit{Authors.txt}:
\begin{itemize}[noitemsep, topsep=0pt]
\item
Vengono selezionati anche gli ID riferiti ad autori omonimi, non affiliati al DEI.
\item
Ad un singolo autore DEI sono associati più ID autore.
\end{itemize}

%::::PADOVANI::::
\subsection{Filtro degli autori per affiliation} \label{ssc:padovani}
Il primo problema è già in parte risolto dal metodo di creazione del grafo, che considera solo gli ID autori che hanno almeno una collaborazione con un altro ID nel set. In questo modo più del 90\% degli ID viene filtrato.

È stato quindi sviluppato un secondo metodo più fine di estrazione dei dati che, considerando le affiliation dei paper, esclude gli ID autore che non hanno mai pubblicato un paper a Padova, che viene illustrato di seguito.

\begin{itemize}[noitemsep, topsep=0pt]
\item[--]
Dal file \textit{Affiliations.txt} si estrae la lista delle affiliation in cui risulta nel nome un match all'espressione regolare ``$pad(ov|u)a$''.
% TODO usare un set di affiliation solo di dipartimento (circa 300) è troppo poco
\item[--]
Dalla lista di terne (ID paper, ID autore, ID affiliation) si mantengono solo quelle in cui l'ID affiliation compare nel set di affiliation padovane appena estratte.
\item[--]
Dalle terne selezionate, si estrae un set di ID autori che hanno pubblicato almeno un paper con affiliation padovana.
\item[--] % TODO meglio - più punti
Si estraggono i paper scritti da questi ID autore e si procede alla generazione degli edge pesati.
\end{itemize}

Applicando questo metodo, gli ID autore si riducono a 306, relativi a 201 nomi univoci. Il grafo generato include 850 edge con un peso totale di 5.195.

% TODO mostra grafo padovani

%::::COLLASSANODI::::
\subsection{Unione di ID autore in singoli nodi} \label{ssc:collassa}
Per risolvere il secondo problema, si propongono due modi:
\subsubsection{Per nome} \label{ssc:nomi}
I nodi con nomi uguali o abbreviazioni l'uno dell'altro sono considerati un unico nodo.


\subsubsection{Per distanza} \label{ssc:nomi}
Il metodo per nomi
%taggalo
introduce un errore potenzialmente molto grave, nomi come Michele Zorzi e Mattia Zorzi vengono confusi e considerati un unico nodo. Nella lista di nomi considerata questo succede solo nel caso citato, ma in dataset più ampi i falsi positivi aumentano considerevolmente. Si tenta di risolvere questo problema considerando unici due nodi in base alla distanza minima che hanno nel grafo.

I nodi con nomi uguali o abbreviazioni l'uno dell'altro sono considerati un unico nodo solo se sono anche vicini nel grafo: si calcola il cammino minimo tra i nodi e li si unisce se è di lunghezza minore di x

TODO Il valore ottimo di x sarebbe bello scoprirlo sperimentalmente


%\subsection{Secondo approccio} \label{subsec:secondo}


\whitePage
\chapter{Troubleshooting} \label{cap:trouble}
Il grafo generato presenta ancora delle carenze.

La lista di partenza include gli afferenti DEI attuali, mentre il database è del 2015. Questo comporta la mancanza di professori, non più a Padova, che avevano ruolo di aggregatore di una comunità.

TODO inserire il nome di Apostolico nella lista di partenza e valutare i cambiamenti

Un modo proposto per includere i nomi mancanti è: estrarre gli ID autore; estrarre i paper-aut-aff; da questa lista di paper estrarre tutti gli ID autore; potenzialmente ridurre i paper (e gli autori) estratti in base alle affiliation (anche solo del DEI e non di tutta Padova); iterare il processo con la nuova lista di autori.

In questo modo si estraggono anche troppe comunità, una singola collaborazione con un dipartimento esterno comporta alle iterazioni successive l'inclusione di molti autori di quel dipartimento. Un modo per risolvere il problema è, alla fine delle iterazioni e della creazione dei cluster, considerare solo quelli che contengono almeno un nome che era nella lista originale: in questo modo dipartimenti esterni, anche se connessi al grafo, non vengono inclusi.



\whitePage
\chapter{Risultati} \label{cap:risultati}
Descrizione della v-measure

Presentazione dei valori di v-measure per i vari grafi e commenti.



\whitePage
\chapter{Conclusioni} \label{cap:conclusioni}
Partendo da una lista di nomi di un dipartimento si può estrarre un grafo che lo rappresenti? Le comunità generate rispecchiano quelle reali?


%%% OBBLIGATORIA:


%::::::::::::::::::::::::::::::::::BIBLIOGRAFIA::::::::::::::::::::::::::::::::::::::::::::::::::::::

% \nocite{*} % visto che non ho citato niente serve per non offendere bibtex
\bibliographystyle{plainurl}
% sarebbe bello usare bibtex ma non funziona, o forse non lo so usare
% vedremo di imparare
\bibliography{tesiautnet} %%% nome file(s)

\end{document}

%::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
